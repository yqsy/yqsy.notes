---
title: 定时器
date: 2017-11-10 22:15:44
categories: [网络相关]
---

<!-- TOC -->

- [1. 简介](#1-简介)
- [2. SO_RCVTIMEO和SO_SNDTIMEO](#2-so_rcvtimeo和so_sndtimeo)

<!-- /TOC -->

<a id="markdown-1-简介" name="1-简介"></a>
# 1. 简介

网络程序需要处理的第三类事件是定时事件,比如定期检测一个客户连接的活动状态.

有两种高效的管理定时器的容器:时间轮和时间堆

Linux提供了三种定时方法:
* socket选项SO_RCVTIMEO和SO_SNDTIMEO
* SIGALRM信号
* I/O复用系统调用的超时参数

<a id="markdown-2-so_rcvtimeo和so_sndtimeo" name="2-so_rcvtimeo和so_sndtimeo"></a>
# 2. SO_RCVTIMEO和SO_SNDTIMEO

它们分别用来设置socket接收数据超时时间和发送数据超时时间,因此这两个选项仅对与数据接收和发送相关的socket专用系统调用有效

![](http://ouxarji35.bkt.clouddn.com/snipaste_20171110_172550.png)

