---
title: HTTP积累
date: 2017-11-07 14:18:39
categories: [网络相关]
---

<!-- TOC -->

- [1. 资源](#1-资源)
- [2. 基本浏览器连接处理流程](#2-基本浏览器连接处理流程)
- [3. http各个版本](#3-http各个版本)
- [4. url格式](#4-url格式)
- [5. 报文语法](#5-报文语法)

<!-- /TOC -->

<a id="markdown-1-资源" name="1-资源"></a>
# 1. 资源

* https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html (status code 定义)
* https://www.ietf.org/rfc/rfc2616.txt (HTTP/1.1 标准协议)
* https://www.w3.org/Protocols/rfc2616/rfc2616.html (rfc看这个,由toc)
* https://www.w3.org/ (Web技术简介和详细文档)


<a id="markdown-2-基本浏览器连接处理流程" name="2-基本浏览器连接处理流程"></a>
# 2. 基本浏览器连接处理流程

* (a) 浏览器从URL中解析出服务器的主机名
* (b) 浏览器将服务器的主机名转换成服务器的IP地址
* (c) 浏览器将端口号从URL中解析出来
* (d) 浏览器建立一条与Web服务器的TCP链接
* (e) 浏览器向服务器发送一条HTTP请求报文
* (f) 服务器想浏览器回送一条HTTP响应报文
* (g) 关闭连接,浏览器显示文档

<a id="markdown-3-http各个版本" name="3-http各个版本"></a>
# 3. http各个版本

版本号|特征
-|-
0.9|1991年的原型版本,有很多严重的设计缺陷
1.0|第一个得到广泛使用的HTTP版本,添加了版本号,各种HTTP首部,一些额外的方法,以及对多媒体对象的处理
1.0+|20世纪90年代中叶,加入持久的`keep-alive`连接,虚拟主机的支持
`1.1(当前用的)`|引入重要的性能优化措施,并删除一些不好的特性,是当前使用的HTTP版本
2.0/HTTP-NG|性能大幅度优化,但是还没有任何要用此建议取代HTTP/1.1的推广计划


<a id="markdown-4-url格式" name="4-url格式"></a>
# 4. url格式

```
<scheme>://<user>:<password>@<host>:<port>/<path>;<params>?<query>#<frag>
```


<a id="markdown-5-报文语法" name="5-报文语法"></a>
# 5. 报文语法


所有的HTTP报文都可以分为两类:`请求报文(request message)`和`响应报文(response message)`,请求报文会向Web服务器请求一个动作,响应报文会将请求的结果返回给客户端.

* 方法(method)  
 客户端希望服务器对资源执行的动作,是一个单独的词,比如GET,HEAD或POST
* 请求URL(request-URL)  
 命名了所请求资源,或者URL路径组件的完整URL,如果直接与服务器进行对话,只要URL的路径组件是资源的绝对路径,通常就不会有什么问题
* 版本(version)  
 报文所使用的HTTP版本,HTTP/<major>.<mirror>
* 状态码(status-code)  
 这三位数字描述了请求过程中所发生的情况,每个状态码的第一位数字都用于描述状态的一般类型
* 原因短语(reason-phrase)  
 数字状态码的可读版本
* 首部(header)  
 可以有零个或多个首部,每个首部都包含一个名字,后面跟着一个冒号(:)
* 实体的主体部分(entity-body)  
 实体的主体部分包含一个由任意数据组成的数据块

方法|描述|是否包含主体
-|-|-
`GET`|从服务器获取一份文档|否
HEAD|只从服务器获取文档的首部|否
`POST`|向服务器发送需要处理的数据|是
`PUT`|将请求的主题部分存储在服务器上|是
TRACE|对可能经过代理服务器传送到服务器上去的报文进行追踪|否
OPTITIONS|决定可以在服务器上执行哪些方法|否
`DELETE`|从服务器上删除一份文档|否

整体范围|已定义范围|分类
-|-|-
100~199|100~101|信息提示
200~299|200~206|成功
300~399|300~305|重定向
400~499|400~415|客户端错误
500~599|500~505|服务器错误

常见状态码
* 200: 成功,请求的所有数据都在相应主体中
* 401: 需要输入用户名和密码
* 404: 服务器无法找到所请求URL对应的资源

首部分为
* 通用首部
* 请求首部
* 响应首部
* 实体首部
* 扩展首部
