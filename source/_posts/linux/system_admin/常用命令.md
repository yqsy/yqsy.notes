---
title: 常用命令
date: 2017-10-29 16:55:50
categories: [linux, 系统管理]
---

<!-- TOC -->

- [1. 常用命令](#1-常用命令)

<!-- /TOC -->



<a id="markdown-1-常用命令" name="1-常用命令"></a>
# 1. 常用命令

```bash
# 比较文件的差异
diff

# 搜素文件指定字符串
grep main /etc/yum.conf

# 查找所有大小为0的普通文件,并列出它们的完整路径
find /var/log -type f -size 0 -exec ls -al {} \;

# 并删除
find /var/log -type f -size 0 -ok rm {} \;

# 寻找所有txt后缀的文件
find . -type f -name "*txt" -print


# 将access_log文件进行分割,设定每个分割文件的大小为10MB
split -b 10M access_log access_log_bak

# 将文件进行分割,指定每个文件大小为2MB,输出文件序列以数字形式显示,序列长度为3
split -b 2M -d -a 3 /opt/etc.zip /opt/etc.zip_bak
```

find

格式|含义
-|-
-name'字串' | 查找文件名匹配所给字串的所有文件,字串内可用通配符*,?,[]
-lname'字串' | 查找文件名匹配所给字串的所有符号链接文件,字串内可用通配符*,?,[]
-gid n | 查找属于ID号为n的用户组的所有文件
-uid n | 查找属于ID号为n的用户的所有文件
-empty | 查找大小为0的目录或文件
-path'字串' | 查找路径名匹配所给字串的所有文件,字串内可用通配符*,?,[]
-group'字串' | 查找属于用户组名为所给字串的所有文件
-depth | 在查找文件时,首先查找当前目录下的文件,然后再查找其子目录下的文件
-prune 目录 | 指出搜素时不搜索该目录,如果同时使用-depth选项,那么-prune将被find命令忽略
-size n | 查找文件长度为n块的文件,带有c时表示文件长度以字节计
-user'字串'|查找属于用户名为所给字串的所有文件
-mttime +n或-n|按时间搜索 +n表示n天之前的,-n表示今天到n天之前的
-type 文件类型|按指定文件类型搜索,文件类型包括b(块设备文件),c(字符设备文件),f(普通文件),l(符号连接),d(目录),p(管道),s(socket文件)
