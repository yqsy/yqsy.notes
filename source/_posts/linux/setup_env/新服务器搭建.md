---
title: 新服务器搭建
date: 2017-10-22 23:56:44
categories: [linux, 搭建环境]
---

<!-- TOC -->

- [1. 上传证书关闭密码登录](#1-%E4%B8%8A%E4%BC%A0%E8%AF%81%E4%B9%A6%E5%85%B3%E9%97%AD%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95)
- [2. 基础设施](#2-%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD)
- [3. vimrc 以及 初始iptables](#3-vimrc-%E4%BB%A5%E5%8F%8A-%E5%88%9D%E5%A7%8Biptables)
- [4. swap交换文件](#4-swap%E4%BA%A4%E6%8D%A2%E6%96%87%E4%BB%B6)
- [5. ss + kcp](#5-ss-kcp)

<!-- /TOC -->

# 1. 上传证书关闭密码登录
```bash
mkdir -p /root/.ssh
chmod 700 /root/.ssh
echo "ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAxMykEsjBRI5bwfWDAT5phiMn750Ij5uajYVjXmf1qZ9db9nbt1ZuxZUOpCnEh0gCEUUfss1/6OhDmJDcKg904yKLHWtc0aakKjwMNIWYEgldhQkGH0S7smY3j3UiP65uiWN5/A0Lx0uuwNKtm9LmYcYNeobLKEznHB3+UDfdMOm1xkXyPzSknC1fhQGIoP/7rADnuU5NxLCyYsclAkwsXlo9mKYf5yoadUZ+4kMFdnBfCieRp+Vk9TfYZyix4qem3UnCnn/1OXZxu8EcZv9FKtPQD1JgjclsbMEd9WIT7zwGbO4MfSHrZ/GdYPbz+71NlWQa01DOm4bjS6FbiKYoYw==" >> /root/.ssh/authorized_keys
chmod 600 /root/.ssh/authorized_keys

sed -i "s/.*PasswordAuthentication.*/PasswordAuthentication no/g" /etc/ssh/sshd_config
systemctl restart sshd
```

# 2. 基础设施
```bash
yum update -y
yum install net-tools -y
yum install vim -y
yum install python34 -y
yum install python34-pip -y
yum install iftop -y
yum install tcpdump -y
yum install bind-utils -y
```

# 3. vimrc 以及 初始iptables
* https://github.com/yqsy/linux_script (.vimrc以及iptables)

# 4. swap交换文件

# 5. ss + kcp
* https://github.com/yqsy/linux_script (shadowsocks+kcptun)
