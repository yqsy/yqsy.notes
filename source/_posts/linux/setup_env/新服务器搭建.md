---
title: 新服务器搭建
date: 2017-10-22 23:56:44
categories: [linux, 搭建环境]
---

<!-- TOC -->

- [1. 上传证书关闭密码登录](#1-上传证书关闭密码登录)
- [2. 基础设施](#2-基础设施)
- [3. vimrc 以及 初始iptables](#3-vimrc-以及-初始iptables)
- [4. swap交换文件](#4-swap交换文件)
- [5. ss + kcp](#5-ss--kcp)

<!-- /TOC -->

<a id="markdown-1-上传证书关闭密码登录" name="1-上传证书关闭密码登录"></a>
# 1. 上传证书关闭密码登录
```bash
mkdir -p /root/.ssh
chmod 700 /root/.ssh
echo "ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAxMykEsjBRI5bwfWDAT5phiMn750Ij5uajYVjXmf1qZ9db9nbt1ZuxZUOpCnEh0gCEUUfss1/6OhDmJDcKg904yKLHWtc0aakKjwMNIWYEgldhQkGH0S7smY3j3UiP65uiWN5/A0Lx0uuwNKtm9LmYcYNeobLKEznHB3+UDfdMOm1xkXyPzSknC1fhQGIoP/7rADnuU5NxLCyYsclAkwsXlo9mKYf5yoadUZ+4kMFdnBfCieRp+Vk9TfYZyix4qem3UnCnn/1OXZxu8EcZv9FKtPQD1JgjclsbMEd9WIT7zwGbO4MfSHrZ/GdYPbz+71NlWQa01DOm4bjS6FbiKYoYw==" >> /root/.ssh/authorized_keys
chmod 600 /root/.ssh/authorized_keys

sed -i "s/.*PasswordAuthentication.*/PasswordAuthentication no/g" /etc/ssh/sshd_config
systemctl restart sshd
```

<a id="markdown-2-基础设施" name="2-基础设施"></a>
# 2. 基础设施
```bash
yum update -y
yum install net-tools -y
yum install vim -y
yum install python34 -y
yum install python34-pip -y
yum install iftop -y
yum install tcpdump -y
yum install bind-utils -y
```

<a id="markdown-3-vimrc-以及-初始iptables" name="3-vimrc-以及-初始iptables"></a>
# 3. vimrc 以及 初始iptables
* https://github.com/yqsy/linux_script (.vimrc以及iptables)

<a id="markdown-4-swap交换文件" name="4-swap交换文件"></a>
# 4. swap交换文件

<a id="markdown-5-ss--kcp" name="5-ss--kcp"></a>
# 5. ss + kcp
* https://github.com/yqsy/linux_script (shadowsocks+kcptun)
