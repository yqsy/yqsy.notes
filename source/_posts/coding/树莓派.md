---
title: 树莓派
date: 2018-1-23 21:44:24
categories: [coding]
---

<!-- TOC -->

- [1. 资料](#1-资料)
- [2. 我的实践](#2-我的实践)

<!-- /TOC -->


<a id="markdown-1-资料" name="1-资料"></a>
# 1. 资料
* https://www.zhihu.com/question/20859055/answer/54734499 (可以用来干嘛)
* https://www.raspberrypi.org/products/raspberry-pi-3-model-b/ (官网)
* https://www.zhihu.com/question/31632573/answer/53608346 (装哪些发行版)
* https://www.raspberrypi.org/documentation/installation/installing-images/README.md (Raspbian 根目录放ssh开启sshd服务 默认密码raspberry)
* https://www.zhihu.com/question/49629610/answer/126092240 (内网穿透)
* https://ngrok.com/docs (ngrok的说明)
* https://dashboard.ngrok.com/get-started (开始)
* https://www.ngrok.cc/ (免费中转站)
* https://github.com/fatedier/frp (frp)


配置
```
Quad Core 1.2GHz Broadcom BCM2837 64bit CPU
1GB RAM
BCM43438 wireless LAN and Bluetooth Low Energy (BLE) on board
40-pin extended GPIO
4 USB 2 ports
4 Pole stereo output and composite video port
Full size HDMI
CSI camera port for connecting a Raspberry Pi camera
DSI display port for connecting a Raspberry Pi touchscreen display
Micro SD port for loading your operating system and storing data
Upgraded switched Micro USB power source up to 2.5A
```

<a id="markdown-2-我的实践" name="2-我的实践"></a>
# 2. 我的实践

* ngrok 或 frp内网穿透
* https://owncloud.org/download/ (私有云)
* opengrok
* 闹钟/PM指数/温度
* 爬虫
* 小网站

```bash

# 源修改
sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak
sudo rm -f /etc/apt/sources.list
sudo touch /etc/apt/sources.list
echo "deb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ jessie main non-free contrib" | sudo tee -a /etc/apt/sources.list
echo "deb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ jessie main non-free contrib" | sudo tee -a /etc/apt/sources.list

sudo apt-get update -y

apt-get install git -y

# zsh
apt-get install zsh -y
chsh -s /bin/zsh

curl -L https://raw.githubusercontent.com/skywind3000/vim/1245870515f82b55894fe14adacef20c8ef13dbf/etc/zshrc.zsh > ~/.zshrc

# 网络流量分析
sudo apt-get install iptraf -y

# 实时网速查看
sudo apt-get install bwm-ng -y

# glances
sudo apt-get install glances -y
```


frp server
```bash

# server
wget https://github.com/fatedier/frp/releases/download/v0.15.1/frp_0.15.1_linux_amd64.tar.gz
tar -xvzf frp_0.15.1_linux_amd64.tar.gz
cd frp_0.15.1_linux_amd64

sed -i "s/bind_port = 7000/bind_port = 5001/g" ./frps.ini
./frps -c ./frps.ini

# run in back (问题?)
nohup ./frps -c ./frps.ini | rotatelogs /var/log/frp.log-%Y%m%d 86400 &
```

frp client
```bash
wget https://github.com/fatedier/frp/releases/download/v0.15.1/frp_0.15.1_linux_arm.tar.gz
tar -xvzf frp_0.15.1_linux_arm.tar.gz
cd frp_0.15.1_linux_arm
sed -i "s/server_port = 7000/server_port = 5001/g" ./frpc.ini
sed -i "s/server_addr = 127.0.0.1/server_addr = 112.74.61.253/g" ./frpc.ini

# 默认映射6000->127.0.0.1:22
./frpc -c ./frpc.ini

# run in back
nohup ./frpc -c ./frpc.ini &
```

ngrok
```bash
cd ~!
wget https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-arm.zip
unzip ngrok-stable-linux-arm.zip

# 这个不行,启动会出错
wget http://121.42.171.79:9100/frp/linux_arm.zip
unzip linux_arm.zip

./ngrok authtoken  xxxx 这个是authtoken

./ngrok http 80
./ngrok tcp 22

# 暴露了一个端口
http://127.0.0.1:4040

# 在本机上使用ssh tunnel,即可访问
ssh -NL  9001:localhost:4040 root@pi1
```
