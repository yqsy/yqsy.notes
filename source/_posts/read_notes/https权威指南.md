---
title: https权威指南.md
date: 2018-2-6 21:35:37
categories: [读书笔记]
---

<!-- TOC -->


<!-- /TOC -->


我的问题:

* ssh如何做到安全？身份认证
* ssl/tls如何做到安全？

所有连接到互联网的设备都有一个共同点，他们依赖安全套接字层(secure soccket layer, ssl) 和传输层安全(transport layer security,tls)


避免伪装攻击，ssl和tls依赖公钥基础设施，public key infrastructure,pki

x|x|x|x
-|-|-|-
7|应用层|应用数据|http/smtp/imap
6|表示层|数据表示，转换和加密|ssl和tls
5|会话层|多连接管理|–
4|传输层|包或流的可靠传输|TCP,UDP
3|网络层|网络节点间的路由和数据转发|IP,IPSEC
2|数据链路层|可靠的本地数据连接(lan)|以太网
1|物理层|直接物理数据连接|cat5



* ssl1没有发布过
* ssl2是失败的协议
* ssl3是重新设计的,沿用到了今天
* tls1.0与ssl3.0相差不大
* tls1.1仅仅修复了一些关键的安全问题
* tls1.2增加了对已验证加密的支持

对称加密又称私钥加密，是一种混淆算法，能够让数据在非安全通道上进行安全通信。


1.对称加密

序列密码，密钥序列与明文序列进行异或,例如rc4

分组密码，世界上最流行的分组密码是高级加密标准(advanced encryption standard.AES)

相同字节长度输入，相同字节长度输出。

tls最后一字节表示填充长度。

2.散列函数

将任意长度的输入转化成定长输出的算法。密码学散列函数需要有几个额外的特性:

抗原像性(单向性)给定一个散列，计算上无法构造出它的信息。

抗第二原像性(弱抗碰撞性)，给定一条消息和它的散列，计算上无法找到一条不同消息具有相同的散列

强抗碰撞性，计算上无法找到两条散列相同的消息



散列函数经常被称为指纹，消息摘要，或者简单称为摘要。

最广泛使用的是sha1，输出为160位。强度已经变弱，建议升级为sha256的变种。



3.消息验证代码

散列函数仅在散列与数据本身分开传输的条件下才能用于验证数据完整性。



当mac message authentication和密文一起发送时，对方就能确认消息并未遭到篡改。

hmac是将散列秘钥和信息以一种安全地方式交织在一起。



4.分组密码模式

对分组密码的扩展，为了加密任意长度的数据。ECB,CBC,CFB,OFB,CTR,GCM



5.非对称加密

非对称加密称为公钥加密，一个私钥是秘密的，另一个是公开的。

* 利用某人的公钥加密，只有对应的私钥能够解开消息

* 如果某人用私钥加密，那么任何人都可以利用对应的公钥解开信息。不提供机密性，但可以用作数字签名。


速度非常慢。RSA是目前普遍部署的非对称加密算法。推荐强度是2048位。



6. 数字签名

digital signature

使用私钥加密过的数据就是签名。可以追加到文档中作为身份验证的依据

文档hash-> digest -> 私钥加密 -> signature 和文档一起发出去


signature -> 公钥解密 -> digest == 文章hash?

有个问题是,会遭到中间人的攻击,伪造一对私钥和公钥,所以就有了CA certificate authority,为公钥做认证


