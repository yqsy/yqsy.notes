---
title: ipfs
date: 2018-07-13 13:11:45
categories: [business]
---


<!-- TOC -->

- [1. 说明](#1-说明)

<!-- /TOC -->

<a id="markdown-1-说明" name="1-说明"></a>
# 1. 说明

* https://blog.csdn.net/liyuechun520/article/details/78599374?locationNum=2&fps=1 (实践)
* http://ipfser.org/2018/06/27/r45/ (这本书超赞)
* https://ipfs.io/docs/ (资源大全)
* http://www.8btc.com/ipfs-application (ipfs技术列表)
* https://www.jianshu.com/p/4e380c67753a (EOS是基于IPFS设计的?!!! 非常好)
* http://blog.sina.com.cn/s/blog_e99bfe2f0102xyf6.html (这个解释的也非常清楚)

IPFS提供了一个p2p的网络传输层用于终端之间基于文件名称发现和共享文件,但是IPFS不提供和保证文件的存储,托管和带宽.

IPFS团队为了解决这个文件,发布了`FileCoin区块链`,使用区块链的支付系统来`激励`拥有剩余存储空间的`人帮助提供稳定可靠文件的存储,托管和带宽`.

EOS的问题,EOS设计性能需要达到百万级,这个设计如果每秒进行100W次交易,每次交易产生100字节,那么`每秒钟就有100M的数据`记录.如果每个区块节点都要存储一份这样的数据,那么时间稍久数据量就是一个天文数字.对于一些只能合约天然就有存储数据的需要,比如需要`存储文字,图片,声音,和视频等等数据`.这些数据更`不可能存储在区块链上`了

EOS的存储问题,看似IPFS解决了,但是`IPFS使用FileCoin让终端用户自己为存储和带宽付费`. EOS自己设计了一套方案:

文件系统智能合约,发行了一个token叫TOK,允许每个用户定义一个目录结构,所有文件都链接了一个IPFS文件,也就是TOK存储IPFS的文件链接和人类可读的文件名 `?? 不理解`

区块生产者们代表的是至少20个独立的个人或组织,每一个生产者可以复制和托管全球不同辖区的数据,只要这20个区块生产者有一个在线并提供文件,那么这个文件就可以提供给所有人

`EOS的存储经济系统`


持有TOK的人将有每年5%的EOS通胀来支付.  激励系统的不同.


* http://blog.sina.com.cn/s/blog_e99bfe2f0102xyf6.html (实现)

实现:  

用分布式的计算范式(类似于ETH,EOS,chain等底层平台) + (分布式的存储) 构建一个世界共享的分布式超级计算机

* 文件索引,每个文件将根据哈希映射从而得到一个独特的指纹
* 文件存储,区块化分发到网络中不同的节点上,网络中的`每个节点将会存储一部分文件`,并维护文件的指纹,以方便其他用户读取文件
* 文件修改,IPFS会采用`Git类似的机制来记录文件的修改`,而不是每次修改后,拷贝整个文件,并使用`梅克尔树(Merkle DAG)`来验证文件的完整性

FileCoin采用`时空证明共识`机制`(Proof of Spacetime)`,证明了在`该段时间内矿工存储了特定的数据`,其算力就是硬盘的存储量,能够节省因为POW产生的巨大能源消耗  

其他(PoSt是基于复制证明(`PoRep`,Proof-of-Repbublican))


共存机制:

client(有需求客户,个人,组织)`支付代币`将文件存储在区块链上.  
miner(矿工: 分为`存储矿工`和`检索矿工`)为挖矿的方式提供存储能力,或者检索而获得Filecoin

* 存储市场: Filecoin Storage Market,  越多的硬盘空间,挖矿能力就越高, `存储市场采用的就是 PoS(Power of Storage)证明`
* 检索市场: Filecoin's Retrieval Market,矿工提供网络带宽帮助用户提取已经保存的内容,根据带宽来分配FIL

新技术取代老的技术,无非就两点: 第一,提供系统效率 第二,降低系统成本.  IPFS是目前的过渡方案? `最典型的应用就是EOS`

EOS引以为傲的是支持百万级别TPS,其中除了DPFS共识机制的功劳外,还归功于其底层存储设计时`采取IPFS`来解决大型数据的传输效率

